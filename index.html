<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>XP To-List App</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link rel="stylesheet" href="css/style.css?v=1.7" />
    <link rel="stylesheet" href="css/auth.css?v=1.7" />
    <style>
      a {
        text-decoration: none;
      }

      a:visited {
        text-decoration: none;
      }

      .nav-brand a {
        color: #ffd700;
        text-decoration: none;
      }

      .nav-brand a:visited {
        text-decoration: none;
      }

      .home-icon {
        text-decoration: none;
      }

      .home-icon:visited {
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <nav class="navbar" style="padding: 6px 12px; min-height: 36px">
      <div class="nav-brand" style="font-size: 1.1em">
        <a href="index.html" style="padding: 0 8px">XP List</a>
      </div>
      <div class="nav-center">
        <span
          id="user-info"
          class="user-info"
          style="display: none; font-size: 0.95em; padding: 4px 10px"
        >
          Welcome, <span id="username">User</span>
        </span>
      </div>
      <div class="nav-buttons" style="gap: 6px">
        <a href="profile.html" id="profile-link" class="nav-btn">Profile</a>
        <div id="auth-buttons" style="display: flex; gap: 4px">
          <button
            onclick="window.location.href='signup.html';"
            style="font-size: 0.95em; padding: 4px 10px"
          >
            Signup
          </button>
          <button
            onclick="window.location.href='login.html';"
            style="font-size: 0.95em; padding: 4px 10px"
          >
            Login
          </button>
        </div>
        <button
          id="logout-button"
          class="nav-btn"
          onclick="handleLogout()"
          style="display: none; font-size: 0.95em; padding: 4px 10px"
        >
          Logout
        </button>
      </div>
    </nav>
    <div class="container">
      <div class="sprite-bar">
        <div class="sprite-visual">
          <div class="player-sprite" id="player-sprite"></div>
        </div>
        <button id="change-sprite" class="sprite-btn">></button>
        <div class="leveling">
          <span id="level">Level: 1</span>
          <div class="xp-bar">
            <div id="xp-progress"></div>
          </div>
          <span class="xp-text" id="xp">XP: 0/100</span>
        </div>
      </div>
      <div class="app-wrapper">
        <div class="sidebar" id="sidebar">
          <div class="level-tabs" id="level-tabs"></div>
        </div>
        <div class="todo-app">
          <h2>To-Do<img src="images/parchment.png" alt="icon" /></h2>
          <div class="row" id="input-row">
            <input
              maxlength="200"
              type="text"
              id="input-box"
              placeholder="Add your text"
            />
            <select
              id="difficulty-select"
              style="margin-right: 8px"
              class="difficulty-select"
            >
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>
            <button onclick="addTask()">Add</button>
          </div>
          <button
            id="back-to-current"
            style="display: none; margin-bottom: 16px"
          >
            Back to Current List
          </button>
          <div id="toast" class="toast"></div>
          <ul id="list-container"></ul>
        </div>
      </div>
      <button id="clear-storage-btn">Clear All Data</button>
    </div>

    <script src="env.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="js/script.js?v=1.7"></script>
  </body>
</html>
